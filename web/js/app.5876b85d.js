(function(){"use strict";var e={3457:function(e,t,n){var a=n(5130),r=n(6768),o=n(4232);const u=["onUpdate:modelValue"],i=["src"],l=["onClick"],c=["onClick"],s={key:0},p=["onUpdate:modelValue"];function d(e,t,n,d,g,f){return(0,r.uX)(),(0,r.CE)("div",null,[t[10]||(t[10]=(0,r.Lk)("h1",null,"GestiÃ³ de Preguntes",-1)),(0,r.Lk)("div",null,[t[8]||(t[8]=(0,r.Lk)("h2",null,"Afegir Pregunta",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>g.novaPregunta.pregunta=e),placeholder:"Pregunta"},null,512),[[a.Jo,g.novaPregunta.pregunta]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>g.novaPregunta.imatge=e),placeholder:"URL de la imatge"},null,512),[[a.Jo,g.novaPregunta.imatge]]),(0,r.Lk)("div",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(g.novaPregunta.respostes,((e,t)=>(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:t,"onUpdate:modelValue":t=>e.etiqueta=t,placeholder:"Resposta"},null,8,u)),[[a.Jo,e.etiqueta]]))),128))]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>g.novaPregunta.resposta_correcta=e),placeholder:"Id Resposta Correcta"},null,512),[[a.Jo,g.novaPregunta.resposta_correcta]]),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>f.afegirPregunta&&f.afegirPregunta(...e))},"Afegir Pregunta")]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(g.preguntes,(e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id},[(0,r.Lk)("h3",null,(0,o.v_)(e.pregunta),1),(0,r.Lk)("img",{src:e.imatge,alt:"Imatge de la pregunta",width:"200"},null,8,i),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.respostes,((e,t)=>((0,r.uX)(),(0,r.CE)("li",{key:t},(0,o.v_)(e.etiqueta),1)))),128))]),(0,r.Lk)("button",{onClick:t=>f.eliminarPregunta(e.id)},"Eliminar",8,l),(0,r.Lk)("button",{onClick:t=>f.seleccionarPregunta(e)},"Editar",8,c)])))),128)),g.preguntaSeleccionada?((0,r.uX)(),(0,r.CE)("div",s,[t[9]||(t[9]=(0,r.Lk)("h2",null,"Editar Pregunta",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>g.preguntaSeleccionada.pregunta=e),placeholder:"Pregunta"},null,512),[[a.Jo,g.preguntaSeleccionada.pregunta]]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>g.preguntaSeleccionada.imatge=e),placeholder:"URL de la imatge"},null,512),[[a.Jo,g.preguntaSeleccionada.imatge]]),(0,r.Lk)("div",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(g.preguntaSeleccionada.respostes,((e,t)=>(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:t,"onUpdate:modelValue":t=>e.etiqueta=t,placeholder:"Resposta"},null,8,p)),[[a.Jo,e.etiqueta]]))),128))]),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>g.preguntaSeleccionada.resposta_correcta=e),placeholder:"Id Resposta Correcta"},null,512),[[a.Jo,g.preguntaSeleccionada.resposta_correcta]]),(0,r.Lk)("button",{onClick:t[7]||(t[7]=(...e)=>f.guardarEdicio&&f.guardarEdicio(...e))},"Guardar Canvis")])):(0,r.Q3)("",!0)])}n(4114);var g={data(){return{preguntes:[],novaPregunta:{pregunta:"",imatge:"",respostes:[{id:1,etiqueta:""},{id:2,etiqueta:""},{id:3,etiqueta:""},{id:4,etiqueta:""}],resposta_correcta:null},preguntaSeleccionada:null}},methods:{async obtenirPreguntes(){try{const e=await fetch("http://a23albrobfon.dam.inspedralbes.cat:23453/preguntes");if(!e.ok)throw new Error("Error carregant preguntes");const t=await e.json();this.preguntes=t,console.log("Preguntes carregades:",this.preguntes)}catch(e){console.error("Error obtenint les preguntes:",e)}},async afegirPregunta(){try{const e=await fetch("http://a23albrobfon.dam.inspedralbes.cat:23453/preguntes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.novaPregunta)}),t=await e.json();this.preguntes.push(t),this.novaPregunta={pregunta:"",imatge:"",respostes:[{id:1,etiqueta:""},{id:2,etiqueta:""},{id:3,etiqueta:""},{id:4,etiqueta:""}],resposta_correcta:null}}catch(e){console.error("Error afegint la pregunta:",e)}},async eliminarPregunta(e){try{await fetch(`http://a23albrobfon.dam.inspedralbes.cat:23453/preguntes/${e}`,{method:"DELETE"}),this.preguntes=this.preguntes.filter((t=>t.id!==e))}catch(t){console.error("Error eliminant la pregunta:",t)}},seleccionarPregunta(e){this.preguntaSeleccionada={...e}},async guardarEdicio(){try{const e=await fetch(`http://a23albrobfon.dam.inspedralbes.cat:23453/preguntes/${this.preguntaSeleccionada.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.preguntaSeleccionada)}),t=await e.json(),n=this.preguntes.findIndex((e=>e.id===this.preguntaSeleccionada.id));this.preguntes[n]=t,this.preguntaSeleccionada=null}catch(e){console.error("Error guardant la pregunta:",e)}}},mounted(){this.obtenirPreguntes()}},f=n(1241);const h=(0,f.A)(g,[["render",d],["__scopeId","data-v-2939f953"]]);var b=h;(0,a.Ef)(b).mount("#app")}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var u=1/0;for(s=0;s<e.length;s++){a=e[s][0],r=e[s][1],o=e[s][2];for(var i=!0,l=0;l<a.length;l++)(!1&o||u>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(i=!1,o<u&&(u=o));if(i){e.splice(s--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,u=a[0],i=a[1],l=a[2],c=0;if(u.some((function(t){return 0!==e[t]}))){for(r in i)n.o(i,r)&&(n.m[r]=i[r]);if(l)var s=l(n)}for(t&&t(a);c<u.length;c++)o=u[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(s)},a=self["webpackChunkprojecteinicial0"]=self["webpackChunkprojecteinicial0"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(3457)}));a=n.O(a)})();
//# sourceMappingURL=app.5876b85d.js.map